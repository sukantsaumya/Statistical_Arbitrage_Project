/* static/css/style.css - Updated */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

:root{
  --bg-1:#0b1220;
  --bg-2:#0f1724;
  --card:#101520;
  --muted:#9aa7b2;
  --text:#e6eef6;
  --accent:#2b9af3;
  --success:#00b15d;
  --danger:#ff403a;
  --glass: rgba(255,255,255,0.02);
  --border: rgba(255,255,255,0.04);
  --radius: 10px;
}

*{box-sizing:border-box}
body{font-family:'Inter',sans-serif;background:linear-gradient(180deg,var(--bg-1),var(--bg-2));color:var(--text);margin:0;line-height:1.5;-webkit-font-smoothing:antialiased}

.container{max-width:1200px;margin:0 auto;padding:1.25rem}

/* NAV */
.navbar{background:rgba(5,9,14,0.6);border-bottom:1px solid var(--border);position:sticky;top:0;z-index:50}
.nav-inner{display:flex;align-items:center;justify-content:space-between;padding:.6rem 0}
.logo{display:flex;gap:.6rem;align-items:center;text-decoration:none;color:var(--text)}
.logo-mark{font-size:1.4rem}
.logo-text{font-weight:700;font-size:1.05rem}
.nav-links{display:flex;gap:1.25rem;align-items:center}
.nav-links a{color:var(--muted);text-decoration:none;padding:.35rem .6rem;border-radius:6px}
.nav-links a:hover{color:var(--text);background:var(--glass)}
.nav-links a.active{color:var(--accent);background:linear-gradient(90deg, rgba(43,154,243,0.08), transparent)}
.cta-login{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:.35rem .6rem;border-radius:6px;color:var(--text)}

/* mobile toggle */
.nav-toggle{display:none;background:none;border:none;cursor:pointer;padding:.35rem}
.hamburger{width:24px;height:2px;background:var(--text);display:block;position:relative}
.hamburger::after,.hamburger::before{content:'';width:24px;height:2px;background:var(--text);position:absolute;left:0}
.hamburger::before{top:-7px}
.hamburger::after{top:7px}

/* app container */
.app-container{padding-top:2rem;padding-bottom:4rem}

/* card */
.card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid var(--border);border-radius:var(--radius);padding:1.25rem}
.fade-in{animation:fadeIn .5s ease-out}

/* HERO GRID */
.hero-card{display:block;padding:1.25rem 1.5rem}
.hero-grid{display:grid;grid-template-columns:1fr 420px;gap:1.25rem;align-items:center}
.hero-title{margin:0 0 .25rem;font-size:1.35rem;font-weight:700}
.muted{color:var(--muted);font-size:.95rem}

/* form */
.form-label{display:block;margin-bottom:.4rem;color:var(--muted);font-weight:600}
.form-control{width:100%;padding:.7rem 1rem;border-radius:8px;border:1px solid var(--border);background:var(--glass);color:var(--text);font-size:1rem}
.form-control:focus{outline:none;box-shadow:0 6px 18px rgba(43,154,243,0.06);border-color:var(--accent)}
.advanced{margin-top:.6rem}
.advanced summary{cursor:pointer;color:var(--muted);font-weight:600}
.advanced-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:.75rem;margin-top:.75rem}

.form-actions{margin-top:1rem}
.btn-primary{width:100%;display:inline-block;background:linear-gradient(90deg,var(--accent),#537dff);color:white;padding:.9rem;border-radius:8px;border:none;font-weight:700;cursor:pointer}
.btn-primary:disabled{opacity:.65;cursor:not-allowed}
.form-msg{margin-top:.6rem;color:var(--muted)}

/* featured section */
.featured-section{display:flex;gap:1rem;margin-top:1.25rem}
.featured-block{flex:1;background:transparent;padding:1rem;border-radius:8px}

/* results / metrics */
.metrics-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem}
.metric-card{background:var(--bg-2);padding:1rem;border-radius:8px;border:1px solid var(--border)}
.metric-card .value{font-weight:800;font-size:1.6rem}

/* company cards (kept from your previous file) */
.company-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1rem}
.company-card{background:var(--card);padding:1rem;border-radius:8px;display:flex;flex-direction:column;align-items:center;text-align:center}
.company-logo{width:60px;height:60px;border-radius:50%;object-fit:contain;background:#fff;padding:6px;margin-bottom:.75rem}
.logo-fallback{width:60px;height:60px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:var(--accent);color:#fff;font-weight:800;margin-bottom:.75rem}

/* small screens */
@media (max-width: 960px){
  .hero-grid{grid-template-columns:1fr;align-items:stretch}
  .nav-links{display:none;position:absolute;top:64px;right:18px;background:var(--bg-2);padding:1rem;border-radius:8px;flex-direction:column;min-width:180px}
  .nav-links.open{display:flex}
  .nav-toggle{display:block}
  .advanced-grid{grid-template-columns:repeat(1,1fr)}
  .metrics-grid{grid-template-columns:repeat(2,1fr)}
}

/* animations */
@keyframes fadeIn{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:none}}
/* Trade table alignment fix */
.table.trades-table {
  table-layout: fixed; /* stable column widths */
  width: 100%;
  min-width: 720px;   /* allow horizontal scroll on small screens */
  border-collapse: collapse;
}

.table.trades-table thead th {
  font-weight: 700;
  color: var(--muted);
  padding: 1rem 0.75rem;
  text-align: left; /* default for header text */
  vertical-align: bottom;
  border-bottom: 1px solid rgba(255,255,255,0.03);
}

/* Column width hints â€” adjust as needed */
.table.trades-table thead th.col-date { width: 170px; text-align: left; }
.table.trades-table thead th.col-side { width: 90px; text-align: center; }
.table.trades-table thead th.col-num { width: 120px; text-align: right; }
.table.trades-table thead th.col-notes { width: 160px; text-align: left; }

.table.trades-table tbody td {
  padding: 0.85rem 0.75rem;
  color: var(--text);
  border-bottom: 1px solid rgba(255,255,255,0.02);
  vertical-align: middle;
}

/* Align content per column */
.table.trades-table td.date-col { text-align: left; padding-left: 0.8rem; font-weight: 600; color: var(--text); }
.table.trades-table td.side-col { text-align: center; }
.table.trades-table td.num-col { text-align: right; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace; }
.table.trades-table td.notes-col { text-align: left; color: var(--muted); }

/* Positive / negative coloring for P&L */
.table.trades-table td.positive { color: #6fe3a7; font-weight:700; }
.table.trades-table td.negative { color: #ff7b7b; font-weight:700; }

/* Responsive: allow horizontal scroll on small screens */
.table-responsive { overflow-x:auto; -webkit-overflow-scrolling:touch; }

/* Small screens: reduce spacing */
@media (max-width:768px){
  .table.trades-table thead th.col-date { width: 140px; }
  .table.trades-table thead th.col-num { width: 100px; }
  .table.trades-table tbody td { padding: 0.6rem 0.5rem; }
}
.table.trades-table thead th.col-date,
.table.trades-table td.date-col {
  position: sticky;
  left: 0;
  background: linear-gradient(180deg, rgba(11,17,32,0.95), rgba(14,20,30,0.95));
  z-index: 3;
}
/* ---- Finance-themed background & layout polish ---- */
.hero-section {
  position: relative;
  background: url("/static/images/bg-finance.jpg") no-repeat center center/cover;
  background-attachment: fixed;
  min-height: 85vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2rem;
  overflow: hidden;
}

.hero-section .overlay {
  position: absolute;
  inset: 0;
  background: rgba(5, 10, 20, 0.78);
  backdrop-filter: blur(4px);
  z-index: 1;
}

.hero-container {
  position: relative;
  z-index: 2;
  display: grid;
  grid-template-columns: 1fr 450px;
  gap: 2rem;
  background: rgba(14, 20, 30, 0.6);
  padding: 2rem;
  border-radius: 16px;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(6px);
}

.hero-title {
  font-size: 1.9rem;
  font-weight: 700;
  color: #e8f1ff;
  margin-bottom: 0.6rem;
}

/* Advanced section visuals */
.advanced-container {
  margin-top: 1rem;
  border: 1px solid rgba(255, 255, 255, 0.05);
  border-radius: 10px;
  background: rgba(255, 255, 255, 0.03);
}

.advanced summary {
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.7rem 1rem;
  font-weight: 600;
  color: #b8c4d9;
  user-select: none;
}

.advanced summary:hover {
  color: #4da3ff;
}

.advanced summary .caret {
  transition: transform 0.3s ease;
}

.advanced[open] summary .caret {
  transform: rotate(180deg);
}

.advanced-grid {
  padding: 1rem;
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 0.75rem;
  border-top: 1px solid rgba(255, 255, 255, 0.04);
}

@media (max-width: 950px) {
  .hero-container { grid-template-columns: 1fr; }
  .advanced-grid { grid-template-columns: 1fr; }
}
/* Animated stock-line overlay */
.animated-stock {
  position: absolute;
  left: 0;
  right: 0;
  top: 10%;
  height: 28%;
  width: 100%;
  z-index: 1;                /* sits above background overlay but below content (content is z-index:2) */
  pointer-events: none;      /* ignore mouse */
  opacity: 0.42;             /* subtle intensity */
  mix-blend-mode: screen;    /* nice light blending on dark bg */
  overflow: visible;
  transform: translateZ(0);
}

/* animate the main moving-line - horizontal slide (loop) */
.animated-stock .moving-line {
  transform-origin: 0 0;
  /* We'll move the path leftwards by 40% of its width and loop */
  animation: slide-left 12s linear infinite;
  will-change: transform, opacity;
}

/* a second slower layer for parallax feel */
.animated-stock .moving-line.slow {
  animation: slide-left 26s linear infinite;
  opacity: 0.28;
}

/* keyframe uses translateX GPU transform */
@keyframes slide-left {
  0%   { transform: translateX(0); }
  100% { transform: translateX(-35%); } /* adjust -35% for speed/length */
}

/* reduce animation intensity on small screens to save battery */
@media (max-width: 700px) {
  .animated-stock { opacity: 0.18; top: 6%; height: 18%; }
  .animated-stock .moving-line { animation-duration: 20s; }
  .animated-stock .moving-line.slow { animation-duration: 38s; }
}

/* Respect prefers-reduced-motion */
@media (prefers-reduced-motion: reduce) {
  .animated-stock { animation: none !important; opacity: 0.18; }
  .animated-stock .moving-line, .animated-stock .moving-line.slow { animation: none !important; }
}
/* --- Navbar link polish --- */
.nav-links a {
  color: rgba(230, 240, 255, 0.8);
  text-decoration: none;
  margin-left: 1.2rem;
  font-weight: 500;
  transition: color 0.2s ease, opacity 0.2s ease;
}

.nav-links a:hover {
  color: #4da3ff;
}

.nav-links a.active {
  color: #4da3ff;
  border-bottom: 2px solid #4da3ff;
}

/* Login CTA */
.cta-login {
  background: #4da3ff;
  color: #0a101a !important;
  padding: 0.5rem 1rem;
  border-radius: 6px;
  margin-left: 1.2rem;
  font-weight: 600;
  transition: background 0.25s ease;
}

.cta-login:hover {
  background: #74b9ff;
}

/* Hamburger for mobile */
.nav-toggle {
  background: none;
  border: none;
  cursor: pointer;
  display: none;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 0.25rem;
}

.nav-toggle .hamburger {
  width: 25px;
  height: 2px;
  background-color: #e6eef6;
  border-radius: 2px;
  position: relative;
  transition: all 0.3s ease-in-out;
}

.nav-toggle .hamburger::before,
.nav-toggle .hamburger::after {
  content: "";
  position: absolute;
  width: 25px;
  height: 2px;
  background-color: #e6eef6;
  border-radius: 2px;
  transition: all 0.3s ease-in-out;
}

.nav-toggle .hamburger::before {
  transform: translateY(-7px);
}

.nav-toggle .hamburger::after {
  transform: translateY(7px);
}

/* Mobile layout */
@media (max-width: 850px) {
  .nav-links {
    position: absolute;
    top: 64px;
    right: 1rem;
    background: rgba(14, 20, 30, 0.95);
    border-radius: 10px;
    padding: 1rem;
    display: none;
    flex-direction: column;
    text-align: right;
  }
  .nav-links.open {
    display: flex;
  }
  .nav-toggle {
    display: flex;
  }
  .nav-links a {
    margin: 0.5rem 0;
  }
  .cta-login {
    margin-top: 0.6rem;
  }
}
